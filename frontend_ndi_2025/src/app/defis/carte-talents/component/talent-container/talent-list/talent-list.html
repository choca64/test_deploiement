<div class="talent-list">
  <!-- NAV BAR -->
  <nav class="talent-list__nav">
    <a routerLink="/landing-page" class="nav-home">
      <span>ğŸ </span> Accueil
    </a>
    <div class="nav-logo">TALENTS</div>
    <div class="nav-actions">
      <a routerLink="/collaborations" class="nav-collab">
        <span>ğŸ¤</span> Collabs
      </a>
      <a routerLink="/add-talent" class="nav-create">
        <span>âœ¨</span> CrÃ©er
      </a>
      
      <!-- Auth buttons -->
      <ng-container *ngIf="!isLoggedIn">
        <a routerLink="/login" class="nav-login">Connexion</a>
      </ng-container>
      
      <ng-container *ngIf="isLoggedIn">
        <div class="nav-user">
          <div class="nav-user__avatar" [style.background]="currentUser?.avatarColor || '#3DB4AD'">
            {{ currentUser?.displayName?.charAt(0) || currentUser?.username?.charAt(0) || '?' }}
          </div>
          <span class="nav-user__name">{{ currentUser?.displayName || currentUser?.username }}</span>
        </div>
        <button class="nav-logout" (click)="logout()">
          <span>ğŸ‘‹</span> DÃ©co
        </button>
      </ng-container>
    </div>
  </nav>

  <!-- HEADER -->
  <header class="talent-list__header">
    <div>
      <p class="talent-list__kicker">Explorer les profils</p>
      <h1 class="talent-list__title">DÃ©couvrez les talents</h1>
      <p class="talent-list__subtitle">
        Parcourez les profils, trouvez des collaborateurs et connectez-vous 
        avec des personnes partageant vos passions.
      </p>
    </div>
    <div class="talent-list__actions">
      <a routerLink="/add-talent" class="btn btn--create">
        <span>âœ¨</span> CrÃ©er ma carte
      </a>
      <div class="talent-list__badge">
        <span class="dot"></span>
        <span>{{ filteredTalents.length }} talents</span>
      </div>
    </div>
  </header>

  <!-- FILTRES -->
  <section class="filters">
    <div class="filters__row">
      <div class="filters__field filters__field--wide">
        <label>ğŸ” Recherche</label>
        <input
          type="text"
          placeholder="Nom, compÃ©tence, projet, ville..."
          [(ngModel)]="search"
          (ngModelChange)="applyFilters()"
        />
      </div>

      <div class="filters__field">
        <label>ğŸ“ Ville</label>
        <select [(ngModel)]="villeFilter" (ngModelChange)="applyFilters()">
          <option value="">Toutes les villes</option>
          @for (v of villes; track v) {
            <option [value]="v">{{ v }}</option>
          }
        </select>
      </div>

      <div class="filters__toggle">
        <label class="filters__checkbox">
          <input
            type="checkbox"
            [(ngModel)]="onlyVerified"
            (change)="applyFilters()"
          />
          <span>âœ“ Talents vÃ©rifiÃ©s uniquement</span>
        </label>
      </div>
    </div>

    <p class="filters__result">
      <strong>{{ filteredTalents.length }}</strong> talent(s) trouvÃ©(s) sur {{ allTalents.length }}
    </p>
  </section>

  <!-- LISTE DES CARTES -->
  <section class="cards-grid">
    @for (t of filteredTalents; track t.id; let i = $index) {
      <app-card [talent]="t" [colorIndex]="i"></app-card>
    }

    @if (filteredTalents.length === 0) {
      <div class="cards-grid__empty">
        <span class="empty-icon">ğŸ”</span>
        <p>Aucun talent ne correspond Ã  cette recherche.</p>
        <a routerLink="/add-talent" class="btn btn--create">CrÃ©er le premier !</a>
      </div>
    }
  </section>
</div>
